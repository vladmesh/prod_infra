# Caddy configuration - auto-generated by Ansible
# Do not edit manually

{
    email vladmesh.dev@gmail.com
}

{% if services | length == 0 %}
# No services configured yet
:80 {
    respond "Server is running" 200
}
{% else %}
{% for service in services %}
{{ service.domain }} {
    reverse_proxy localhost:{{ service.port }}
    {% if service.headers is defined %}
    {% for header in service.headers %}
    header {{ header }}
    {% endfor %}
    {% endif %}
}

{% endfor %}
{% endif %}
